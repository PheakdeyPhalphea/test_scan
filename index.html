<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vulnerable Page</title>
    <style>
        /* Poor coding practices */
        body {
            font-family: Arial, sans-serif;
            background: #eee;
        }
    </style>
</head>
<body>
    <h1>Vulnerable App</h1>
    <p id="welcomeMessage"></p>

    <form id="loginForm">
        <label for="username">Username:</label>
        <input type="text" id="username">
        <br><br>
        <label for="password">Password:</label>
        <input type="password" id="password">
        <br><br>
        <button type="button" onclick="handleLogin()">Login</button>
    </form>

    <script>
        // TODO: Remove hardcoded credentials before production!
        const hardcodedPassword = "password123"; // Security vulnerability
        const hardcodedToken = "secret-token"; // Expose sensitive data

        // Deprecated API usage (Bad practice)
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "http://example.com/api?token=" + hardcodedToken, true);
        xhr.send();

        function handleLogin() {
            const username = document.getElementById("username").value;

            // Insecure DOM Manipulation
            document.getElementById("welcomeMessage").innerHTML = 
                `<b>Welcome, ${username}</b>`; // Vulnerable to XSS

            // Unused variable (Code smell)
            const unusedVariable = "This is never used";
        }
    </script>
</body>
</html>
